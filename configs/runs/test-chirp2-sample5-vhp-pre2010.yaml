# TEST: GCP Chirp 2, 5 samples (verify Chirp 2 works before running 500-sample benchmark)
# Deterministic sampling with random_state=42 (same seed as other configs)

experiment_id: test-chirp2-sample5-vhp-pre2010

model:
  name: "gcp_chirp"
  model_variant: "chirp_2"  # Chirp 2 (to verify it works)

  # GCP-specific settings
  gcp:
    project_id: "memoirji-amia-2025"
    credentials_path: "credentials/gcloud/application_default_credentials.json"
    temp_bucket: "memoirji-amia-2025-temp"

    # Parallelization settings (conservative for test)
    max_concurrent_preprocessing: 3   # Only 3 files at a time
    upload_workers: 10                # Small test, fewer workers
    transcribe_workers: 5             # Small test
    batch_size: 10                    # All 5 in one batch

    # API settings
    language_code: "en-US"
    upload_timeout: 600  # 10 minutes
    transcribe_timeout: 3600  # 1 hour (should be plenty for 5 files)

input:
  source: "azure_blob"
  parquet_path: "data/raw/loc/veterans_history_project_resources_pre2010.parquet"
  blob_prefix: "loc_vhp"
  sample_size: 5  # Just 5 samples for quick test
  duration_sec: null  # Full audio
  sample_rate: 16000

output:
  dir: "outputs/test-chirp2-sample5-vhp-pre2010"
  save_per_file: true

evaluation:
  use_whisper_normalizer: true

wandb:
  project: amia-stt
  group: test-commercial-api
  tags: ["gcp-chirp2", "test", "sample5", "commercial-api"]
